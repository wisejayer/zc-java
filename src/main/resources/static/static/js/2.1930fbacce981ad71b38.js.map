{"version":3,"sources":["webpack:///./src/components/students ^\\.\\/.*\\.vue$","webpack:///src/components/students/stu_addmark.vue","webpack:///./src/components/students/stu_addmark.vue?d5d6","webpack:///./src/components/students/stu_addmark.vue","webpack:///src/components/students/stu_addhistory.vue","webpack:///./src/components/students/stu_addhistory.vue?6452","webpack:///./src/components/students/stu_addhistory.vue"],"names":["map","./stu_addhistory.vue","./stu_addmark.vue","webpackContext","req","__webpack_require__","webpackContextResolve","id","Error","keys","Object","resolve","module","exports","stu_addmark","data","sizeForm","userid","JSON","parse","window","localStorage","getItem","addname","addtype","adddate","addmark","adddesc","addpath","tag","fileList","dialogImageUrl","dialogVisible","hideUpload","limitCount","methods","onSubmit","_this","this","$message","error","console","log","postRequest","then","resp","status","$router","push","path","submitUpload","$refs","upload","submit","handleRemove","file","length","handleSuccess","response","type","message","handleError","err","handlePictureCardPreview","url","handleOnchang","students_stu_addmark","render","_vm","_h","$createElement","_c","_self","staticClass","ref","staticStyle","margin-top","attrs","model","label-width","size","label","prefix-icon","value","callback","$$v","$set","expression","_v","width","placeholder","span","value-format","show-input","class","hide","action","accept","on-preview","on-remove","on-success","on-error","on-change","file-list","list-type","auto-upload","slot","visible","on","update:visible","$event","src","alt","click","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","stu_addhistory","tableData","currentPage","pageSize","search","loading","formatter","row","column","handleCurrentChange","val","getHistory","getRequest","mounted","computed","tables","filter","keys_default","some","key","String","toLowerCase","indexOf","students_stu_addhistory","directives","name","rawName","slice","default-sort","prop","sortable","align","scopedSlots","_u","fn","scope","placement","trigger","height","current-page","page-size","layout","total","current-change"],"mappings":"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","file":"static/js/2.1930fbacce981ad71b38.js","sourcesContent":["var map = {\n\t\"./stu_addhistory.vue\": \"kVrP\",\n\t\"./stu_addmark.vue\": \"cn/i\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"MYmO\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/students ^\\.\\/.*\\.vue$\n// module id = MYmO\n// module chunks = 2","<template>\r\n<div class=\"view\">\r\n  <el-form ref=\"form\" :model=\"sizeForm\" label-width=\"80px\" size=\"medium\" style=\"margin-top:20px\">\r\n    <el-form-item label=\"加分名称\">\r\n      <el-input v-model=\"sizeForm.addname\" prefix-icon=\"el-icon-edit\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"加分类型\">\r\n      <el-select v-model=\"sizeForm.addtype\" placeholder=\"请选择加分类型\" style=\"width: 100%;\">\r\n        <el-option label=\"专业技能\" value=\"专业技能\"></el-option>\r\n        <el-option label=\"创造能力\" value=\"创造能力\"></el-option>\r\n        <el-option label=\"组织管理能力\" value=\"组织管理能力\"></el-option>\r\n        <el-option label=\"文体能力\" value=\"文体能力\"></el-option>\r\n        <el-option label=\"社会实践能力\" value=\"社会实践能力\"></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"加分时间\">\r\n      <el-col :span=\"11\">\r\n        <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"sizeForm.adddate\" value-format=\"yyyy-MM-dd\" style=\"width: 218%;\">\r\n        </el-date-picker>\r\n      </el-col>\r\n    </el-form-item>\r\n    <el-form-item label=\"加分分值\">\r\n          <el-slider v-model=\"sizeForm.addmark\" show-input> </el-slider>\r\n    </el-form-item>\r\n    <el-form-item label=\"加分说明\">\r\n      <el-input type=\"textarea\" v-model=\"sizeForm.adddesc\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"加分证明\">\r\n      <el-upload\r\n        class=\"upload-demo\"\r\n        ref=\"upload\"\r\n        action=\"/student/upload\"\r\n        accept=\"image/*\"\r\n        :class=\"{hide:hideUpload}\"\r\n        :on-preview=\"handlePictureCardPreview\"\r\n        :on-remove=\"handleRemove\"\r\n        :on-success=\"handleSuccess\"\r\n        :on-error=\"handleError\"\r\n        :on-change=\"handleOnchang\"\r\n        :file-list=\"fileList\"\r\n        list-type=\"picture-card\"\r\n        :auto-upload=\"false\">\r\n        <i class=\"el-icon-plus\"></i>\r\n        <div slot=\"tip\" class=\"el-upload__tip\">只能上传图片文件</div>\r\n      </el-upload>\r\n      <el-dialog :visible.sync=\"dialogVisible\">\r\n        <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n      </el-dialog>\r\n    </el-form-item>\r\n    <el-form-item size=\"large\" style=\"margin-top:20px\">\r\n      <el-button  size=\"large\" type=\"success\" @click=\"submitUpload\">上传证明</el-button>\r\n      <el-button type=\"primary\" @click=\"onSubmit\">提交</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</div>  \r\n</template> \r\n\r\n<script>\r\n  export default {\r\n\r\n    data() {\r\n      return {\r\n        sizeForm: {\r\n          userid:JSON.parse(window.localStorage.getItem('user')).userid,\r\n          addname: '',\r\n          addtype: '',\r\n          adddate: '',\r\n          addmark: 0,\r\n          adddesc: '',\r\n          addpath: '',\r\n          tag:'否'\r\n        },\r\n        fileList:[],\r\n        dialogImageUrl: '',\r\n        dialogVisible: false,\r\n        hideUpload: false,\r\n        limitCount:1\r\n      };\r\n    },\r\n    methods: {\r\n      onSubmit() {\r\n        var _this = this\r\n        if (!_this.sizeForm.addname&& !_this.sizeForm.adddesc\r\n        &&!_this.sizeForm.addtype&& !_this.sizeForm.addmark&& !_this.sizeForm.adddate) {\r\n          this.$message.error('请输入完整信息');\r\n        }else if(this.sizeForm.addpath == ''){\r\n          this.$message.error('请先上传证明');\r\n        }else{\r\n        console.log(_this.sizeForm);\r\n          this.postRequest('/student/add',this.sizeForm).then(resp=> {\r\n            if (resp && resp.status == 200) {\r\n              _this.$router.push({ path:'/students/addhistory'});\r\n              \r\n            }\r\n          }); \r\n        }\r\n    },\r\n      submitUpload() {//文件上传\r\n        this.$refs.upload.submit();\r\n    },\r\n      handleRemove(file, fileList) {\r\n        this.hideUpload = fileList.length >= this.limitCount;\r\n        console.log(file, fileList);\r\n    },\r\n      handleSuccess(response, file, fileList) {\r\n        if (response) {\r\n          this.$message({type: 'success', message:\"上传成功\"});\r\n          console.log(response);\r\n          this.sizeForm.addpath = response;\r\n        }\r\n    },\r\n      handleError(err, file, fileList) {\r\n         this.$message({type: 'error', message: \"上传失败\"});\r\n    },\r\n      handlePictureCardPreview(file) {\r\n        this.dialogImageUrl = file.url;\r\n        this.dialogVisible = true;\r\n    },\r\n       handleOnchang(file, fileList) {\r\n          this.hideUpload = fileList.length >= this.limitCount;\r\n      }              \r\n    }\r\n  };\r\n</script>\r\n<style>\r\n.hide .el-upload--picture-card {\r\n    display: none;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/students/stu_addmark.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"view\"},[_c('el-form',{ref:\"form\",staticStyle:{\"margin-top\":\"20px\"},attrs:{\"model\":_vm.sizeForm,\"label-width\":\"80px\",\"size\":\"medium\"}},[_c('el-form-item',{attrs:{\"label\":\"加分名称\"}},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-edit\"},model:{value:(_vm.sizeForm.addname),callback:function ($$v) {_vm.$set(_vm.sizeForm, \"addname\", $$v)},expression:\"sizeForm.addname\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"加分类型\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择加分类型\"},model:{value:(_vm.sizeForm.addtype),callback:function ($$v) {_vm.$set(_vm.sizeForm, \"addtype\", $$v)},expression:\"sizeForm.addtype\"}},[_c('el-option',{attrs:{\"label\":\"专业技能\",\"value\":\"专业技能\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"创造能力\",\"value\":\"创造能力\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"组织管理能力\",\"value\":\"组织管理能力\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"文体能力\",\"value\":\"文体能力\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"社会实践能力\",\"value\":\"社会实践能力\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"加分时间\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"218%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.sizeForm.adddate),callback:function ($$v) {_vm.$set(_vm.sizeForm, \"adddate\", $$v)},expression:\"sizeForm.adddate\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"加分分值\"}},[_c('el-slider',{attrs:{\"show-input\":\"\"},model:{value:(_vm.sizeForm.addmark),callback:function ($$v) {_vm.$set(_vm.sizeForm, \"addmark\", $$v)},expression:\"sizeForm.addmark\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"加分说明\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.sizeForm.adddesc),callback:function ($$v) {_vm.$set(_vm.sizeForm, \"adddesc\", $$v)},expression:\"sizeForm.adddesc\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"加分证明\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",class:{hide:_vm.hideUpload},attrs:{\"action\":\"/student/upload\",\"accept\":\"image/*\",\"on-preview\":_vm.handlePictureCardPreview,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"on-error\":_vm.handleError,\"on-change\":_vm.handleOnchang,\"file-list\":_vm.fileList,\"list-type\":\"picture-card\",\"auto-upload\":false}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传图片文件\")])]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"size\":\"large\"}},[_c('el-button',{attrs:{\"size\":\"large\",\"type\":\"success\"},on:{\"click\":_vm.submitUpload}},[_vm._v(\"上传证明\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-d462e626\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/students/stu_addmark.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d462e626\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./stu_addmark.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./stu_addmark.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./stu_addmark.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d462e626\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./stu_addmark.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/students/stu_addmark.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"view\" v-loading=\"loading\">\r\n    <!--搜索-->\r\n    <el-input\r\n      placeholder=\"输入关键字进行过滤\"\r\n      v-model=\"search\"\r\n      prefix-icon=\"el-icon-search\">\r\n    </el-input>\r\n    <!--表格-->\r\n    <el-table\r\n      :data=\"tables.slice((currentPage-1)*pageSize,currentPage*pageSize)\"\r\n      style=\"width: 100%\"\r\n      :default-sort = \"{prop: 'adddate'}\"\r\n      >\r\n      <el-table-column\r\n        prop=\"adddate\"\r\n        label=\"日期\"\r\n        sortable \r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"addname\"\r\n        label=\"加分名称\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"addtype\"\r\n        label=\"加分类型\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"addmark\"\r\n        label=\"分值\"\r\n        width=\"100\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"adddesc\"\r\n        label=\"加分说明\"\r\n        width=\"300\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"tag\"\r\n        label=\"是否审批\"\r\n        align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"addpath\"\r\n        label=\"加分证明\"> \r\n        <template slot-scope=\"scope\">\r\n           <el-popover\r\n            placement=\"left\"\r\n            trigger=\"click\">\r\n            <el-image slot=\"reference\" :src=\"scope.row.addpath\" style=\"width: 100px; height: 100px\"></el-image>\r\n            <el-image  :src=\"scope.row.addpath\" style=\"width: 700px; height: 700px\"></el-image>\r\n           </el-popover>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!--分页-->\r\n    <div class=\"block\" style=\"margin-top:15px;\">\r\n            <el-pagination align='center' @current-change=\"handleCurrentChange\" \r\n            :current-page=\"currentPage\" \r\n            :page-size=\"pageSize\" \r\n            layout=\"total, prev, pager, next, jumper\" \r\n            :total=\"tableData.length\">\r\n            </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        tableData: [],//后台拿来数据\r\n        currentPage: 1, // 当前页码\r\n        pageSize: 5, // 每页的数据条数\r\n        search: '',\r\n        loading: false\r\n      }\r\n    },\r\n    methods: {\r\n      formatter(row, column) {//格式化\r\n        return row.addname;\r\n      },\r\n       //当前页改变时触发 跳转其他页\r\n      handleCurrentChange(val) {\r\n        console.log(`当前页: ${val}`);\r\n        this.currentPage = val;\r\n      },\r\n      getHistory(){\r\n        this.loading = true;\r\n        this.getRequest(\"/student/list\").then(resp=> {\r\n          if (resp && resp.status == 200) {\r\n            this.loading = false;\r\n           this.tableData = resp.data\r\n          }\r\n        })    \r\n      }\r\n    },\r\n    mounted: function () {\r\n      this.getHistory()\r\n    },\r\n    computed: {\r\n    // 模糊搜索\r\n      tables () {\r\n        var search = this.search\r\n        if (search) {\r\n          // filter() 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。\r\n          // 注意： filter() 不会对空数组进行检测。\r\n          // 注意： filter() 不会改变原始数组。\r\n          return this.tableData.filter(data => {\r\n            // some() 方法用于检测数组中的元素是否满足指定条件;\r\n            // some() 方法会依次执行数组的每个元素：\r\n            // 如果有一个元素满足条件，则表达式返回true , 剩余的元素不会再执行检测;\r\n            // 如果没有满足条件的元素，则返回false。\r\n            // 注意： some() 不会对空数组进行检测。\r\n            // 注意： some() 不会改变原始数组。\r\n            return Object.keys(data).some(key => {\r\n              // indexOf() 返回某个指定的字符在某个字符串中首次出现的位置，如果没有找到就返回-1；\r\n              // 该方法对大小写敏感！所以之前需要toLowerCase()方法将所有查询到内容变为小写。\r\n              return String(data[key]).toLowerCase().indexOf(search) > -1\r\n            })\r\n          })\r\n        }\r\n        return this.tableData\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/students/stu_addhistory.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"view\"},[_c('el-input',{attrs:{\"placeholder\":\"输入关键字进行过滤\",\"prefix-icon\":\"el-icon-search\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tables.slice((_vm.currentPage-1)*_vm.pageSize,_vm.currentPage*_vm.pageSize),\"default-sort\":{prop: 'adddate'}}},[_c('el-table-column',{attrs:{\"prop\":\"adddate\",\"label\":\"日期\",\"sortable\":\"\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"addname\",\"label\":\"加分名称\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"addtype\",\"label\":\"加分类型\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"addmark\",\"label\":\"分值\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"adddesc\",\"label\":\"加分说明\",\"width\":\"300\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"tag\",\"label\":\"是否审批\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"addpath\",\"label\":\"加分证明\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"left\",\"trigger\":\"click\"}},[_c('el-image',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"slot\":\"reference\",\"src\":scope.row.addpath},slot:\"reference\"}),_vm._v(\" \"),_c('el-image',{staticStyle:{\"width\":\"700px\",\"height\":\"700px\"},attrs:{\"src\":scope.row.addpath}})],1)]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"block\",staticStyle:{\"margin-top\":\"15px\"}},[_c('el-pagination',{attrs:{\"align\":\"center\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.tableData.length},on:{\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-37ab9dfc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/students/stu_addhistory.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-37ab9dfc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./stu_addhistory.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./stu_addhistory.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./stu_addhistory.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-37ab9dfc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./stu_addhistory.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/students/stu_addhistory.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}