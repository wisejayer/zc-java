webpackJsonp([7],{"/BIE":function(e,t){},"45w3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){var e=this;return{ispass:!0,ruleForm2:{pass:"",checkPass:""},form:{userid:"",password:""},rules2:{pass:[{validator:function(t,r,s){""===r?s(new Error("请输入密码")):(""!==e.ruleForm2.checkPass&&e.$refs.ruleForm2.validateField("checkPass"),s())},trigger:"blur"}],checkPass:[{validator:function(t,r,s){""===r?s(new Error("请再次输入密码")):r!==e.ruleForm2.pass?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}]}}},methods:{submitForm:function(){this.ruleForm2.pass==this.ruleForm2.checkPass&&""!=this.ruleForm2.pass&&""!=this.ruleForm2.checkPass?(this.form.userid=this.$store.state.userid,this.form.password=this.ruleForm2.pass,this.postRequest("/system",this.form).then(function(e){e&&e.status})):this.$message.error("修改失败")},home:function(){this.$router.push({path:"/home"})}}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"manager"}},[r("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[r("h3",{staticClass:"alter"},[e._v("修改你的密码")]),e._v(" "),r("el-form-item",{staticClass:"pass",attrs:{label:"密码",prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm2.pass,callback:function(t){e.$set(e.ruleForm2,"pass",t)},expression:"ruleForm2.pass"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm2.checkPass,callback:function(t){e.$set(e.ruleForm2,"checkPass",t)},expression:"ruleForm2.checkPass"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("提交")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.home()}}},[e._v("返回首页")])],1)],1)],1)},staticRenderFns:[]};var o=r("C7Lr")(s,n,!1,function(e){r("qV98")},"data-v-1d12c5b0",null);t.default=o.exports},"8C9+":function(e,t){},AgF5:function(e,t){},K31e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{rules:{userid:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},loginForm:{userid:"1840224141",password:"admin"},loading:!1}},methods:{submitClick:function(){var e=this;this.loading=!0,this.postRequest("/login",{userid:this.loginForm.userid,password:this.loginForm.password}).then(function(t){if(e.loading=!1,t&&200==t.status){var r=t.data;e.$store.commit("login",r.obj);var s=e.$route.query.redirect;e.$router.replace({path:"/"==s||void 0==s?"/home":s})}})}}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"login-container",attrs:{rules:e.rules,"label-position":"left",model:e.loginForm,"label-width":"0px"}},[r("h3",{staticClass:"login_title"},[e._v("系统登录")]),e._v(" "),r("el-form-item",{attrs:{prop:"id"}},[r("el-input",{attrs:{"auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.userid,callback:function(t){e.$set(e.loginForm,"userid",t)},expression:"loginForm.userid"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitClick(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.submitClick}},[e._v("登录")])],1)],1)},staticRenderFns:[]};var o=r("C7Lr")(s,n,!1,function(e){r("AgF5")},null,null);t.default=o.exports},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("xd7I"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=r("C7Lr")({name:"App"},n,!1,function(e){r("kxvi")},null,null).exports,a=r("7LQH"),i=r("K31e"),u=r("wUZA"),l=r("dAjm"),c=r("45w3"),d=r("Zazt");s.default.use(a.a);var m=new a.a({routes:[{path:"/",name:"Login",component:i.default,hidden:!0},{path:"/home",component:u.default,meta:{keepAlive:!0,requireAuth:!0},hidden:!0,children:[{path:"/",component:l.default,keepAlive:!0,requireAuth:!0}]},{path:"/system",name:"system",component:c.default,meta:{keepAlive:!0,requireAuth:!0},hidden:!0},{path:"*",component:d.default,meta:{keepAlive:!0,requireAuth:!0},hidden:!0}]}),p=r("NxjZ"),f=r.n(p),h=(r("zlkP"),r("rVsN")),v=r.n(h),g=r("Muz9"),_=r.n(g);_.a.interceptors.request.use(function(e){return e},function(e){p.Message.error({message:"请求超时!"})}),_.a.interceptors.response.use(function(e){if(!e.status||200!=e.status||500!=e.data.status)return e.data.msg&&p.Message.success({message:e.data.msg}),e;p.Message.error({message:e.data.msg})},function(e){return 504==e.response.status||404==e.response.status?p.Message.error({message:"无法连接服务器"}):403==e.response.status?p.Message.error({message:"权限不足"}):401==e.response.status?p.Message.error({message:e.response.data.msg}):e.response.data.msg?p.Message.error({message:e.response.data.msg}):p.Message.error({message:"未知错误!"}),v.a.resolve(e)});var w=function(e){return _()({method:"get",url:""+e})},y=r("3cXf"),b=r.n(y),k=r("48sp");s.default.use(k.a);var F=new k.a.Store({state:{username:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).username,userid:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).userid,routes:[]},mutations:{initMenu:function(e,t){e.routes=t},login:function(e,t){e.user=t,window.localStorage.setItem("user",b()(t))},logout:function(e){window.localStorage.removeItem("user"),e.routes=[]}}}),x=function e(t){var s=[];return t.forEach(function(t){var n=t.path,o=t.component,a=t.name,i=t.meta,u=t.children;u&&u instanceof Array&&(u=e(u));var l={path:n,component:function(e){o.startsWith("home")?Promise.all([r.e(0),r.e(1)]).then(function(){var t=[r("2eoi")("./"+o+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe):o.startsWith("stu")?Promise.all([r.e(0),r.e(2)]).then(function(){var t=[r("MYmO")("./"+o+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe):o.startsWith("mon")?Promise.all([r.e(0),r.e(3)]).then(function(){var t=[r("I9gv")("./"+o+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe):o.startsWith("tea")?Promise.all([r.e(0),r.e(5)]).then(function(){var t=[r("8dWD")("./"+o+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe):o.startsWith("man")&&Promise.all([r.e(0),r.e(4)]).then(function(){var t=[r("N/0g")("./"+o+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe)},name:a,meta:i,children:u};s.push(l)}),s};s.default.config.productionTip=!1,s.default.use(f.a),s.default.prototype.getRequest=w,s.default.prototype.postRequest=function(e,t){return _()({method:"post",url:""+e,data:t,transformRequest:[function(e){var t="";for(var r in e)t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},s.default.prototype.deleteRequest=function(e){return _()({method:"delete",url:""+e})},s.default.prototype.putRequest=function(e,t){return _()({method:"put",url:""+e,data:t,transformRequest:[function(e){var t="";for(var r in e)t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})};var C=a.a.prototype.push;a.a.prototype.push=function(e){return C.call(this,e).catch(function(e){return e})},m.beforeEach(function(e,t,r){var s,n;JSON.parse(localStorage.getItem("user"))?(s=m,(n=F).state.routes.length>0||w("/menu").then(function(e){if(e&&200==e.status){var t=x(e.data);s.addRoutes(t),n.commit("initMenu",t)}}),r()):e.meta.requireAuth||null==e.name?r({path:"/",query:{redirect:e.path}}):r()}),new s.default({el:"#app",router:m,store:F,components:{App:o},template:"<App/>"})},PN7l:function(e,t){},Zazt:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-page-header",{attrs:{content:"你好像走丢了哦"},on:{back:e.goBack}}),e._v(" "),r("el-calendar",{scopedSlots:e._u([{key:"dateCell",fn:function(t){t.date;var s=t.data;return[r("p",{class:s.isSelected?"is-selected":""},[e._v("\n        "+e._s(s.day.split("-").slice(1).join("-"))+" "+e._s(s.isSelected?"✔️":"")+"\n        ")])]}}])})],1)},staticRenderFns:[]};var n=r("C7Lr")({methods:{goBack:function(){this.$router.push({path:"/home"})}}},s,!1,function(e){r("8C9+")},null,null);t.default=n.exports},dAjm:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hello"},[t("span",[this._v("很高兴遇见你。")])])}]};var n=r("C7Lr")({},s,!1,function(e){r("/BIE")},null,null);t.default=n.exports},kxvi:function(e,t){},qV98:function(e,t){},wUZA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{username:JSON.parse(window.localStorage.getItem("user")).username,activeName:"1"}},methods:{handleCommand:function(e){var t=this;"logout"==e&&this.$confirm("注销登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.getRequest("/logout"),t.$store.commit("logout"),t.$router.replace({path:"/"})}).catch(function(){t.$message({type:"info",message:"取消"})}),"system"==e&&t.$router.push({path:"/system"})}},computed:{routes:function(){return this.$store.state.routes}}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"home-container"},[r("el-header",{staticStyle:{"text-align":"right","font-size":"15px"}},[r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:3}},[r("i",{staticClass:"el-icon-news",staticStyle:{"font-size":"30px",color:"white"}}),e._v(" "),r("span",{staticStyle:{"font-size":"30px",color:"white"}},[e._v("综测系统")])]),e._v(" "),r("el-col",{attrs:{span:21}},[r("el-dropdown",{on:{command:e.handleCommand}},[r("span",{staticClass:"el-icon-user-solid",staticStyle:{"margin-right":"15px","font-size":"22px",color:"white"}},[e._v(e._s(e.username))]),e._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"system"}},[e._v("修改密码")]),e._v(" "),r("el-dropdown-item",{attrs:{command:"logout"}},[e._v("退出登陆")])],1)],1)],1)],1)],1),e._v(" "),r("el-container",[r("el-aside",{attrs:{width:"200px"}},[r("el-menu",{staticStyle:{background:"#ececec"},attrs:{router:"","unique-opened":""}},[e._l(this.routes,function(t,s){return[t.hidden?e._e():r("el-submenu",{key:t.id,attrs:{index:s+""}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-menu"}),e._v(" "),r("span",[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t){return r("el-menu-item",{key:t.id,attrs:{index:t.path}},[e._v(e._s(t.name))])})],2)]})],2)],1),e._v(" "),r("el-main",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),e._v(" "),r("el-breadcrumb-item",{domProps:{textContent:e._s(this.$router.currentRoute.name)}})],1),e._v(" "),r("router-view")],1)],1)],1)},staticRenderFns:[]};var o=r("C7Lr")(s,n,!1,function(e){r("PN7l")},null,null);t.default=o.exports},zlkP:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.db932f5813a36ff39926.js.map